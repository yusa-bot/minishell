
// bash最新バージョン（v5.3）に合わせる

/*
token_lstにトークナイズ後の情報格納
→シングルクオートで囲まれたもの以外は環境変数の展開
→joint_nextのノードの連結
→t_cmd型のcmd_lstへのコマンド及び引数および変数代入及びinfile,outfileの情報格納（token_lstはfreeする）
→子プロセスを作成、コマンドの実行
*/

/*クオート処理について
・一時的な変数代入（TEST=/test/path）の
TEST=部分はクオーとなし（あれば変数代入と認識しない）
→exportを用いる場合はクオートどこでもOK
・変数使用時は＄TEST全体を一つのクオーとで囲む
ファイル名はコマンドや引数と同様のクオート処理
*/

/*t_cmdについて
・一時的な環境変数の代入は必ずコマンドやリダイレクトの前
・token_lstの1つ目やpipe(|)の直後にpipeが来るとsyntax error
・デリミタがくれば次のトークンをファイル名とする（コマンドや引数の間でも）

*/

/*変数代入の影響範囲(ft_peraer.c)
・変数代入の情報はt_cmd->env_varsに格納するが、token_lst->strの文字列における変数展開では元のenv_lstが参照されるのでenv_varsは影響しない。
子プログラムには引き継がれるので、commandを実行する子プロセス内のenvやexport関数の出力には反映される
*/

/*
・コマンド名なども変数に置き換え可能
->変数展開してからパース処理
*/

/*終了コード
正常：０
syntax errpr : 2 (bash-v3.2だと258だった)

*/


/*リダイレクトはパイプよりも優先順位高い！！
ex) ls -l | grep "apple" > outfile1.txt | grep "berry" > outfile2.txtのとき


*/